---
title: Bonus - Installing red hat developer hub
exercise: 8
date: '2024-09-02'
tags: ['openshift','containers','kubernetes','disconnected']
draft: false
authors: ['default']
summary: "Upping our dx in a disconnected environment"
---

We've had a good dig into cluster security and compliance. Let's change gears for this next exercise to get some experience deploying [Red Hat Developer Hub](https://developers.redhat.com/rhdh/overview) in a disconnected cluster.


## 8.1 - Deploying red hat developer hub

Earlier in exercise 3 we deployed the Red Hat Developer Hub Operator. We'll now instruct that operator to deploy an instance of Developer Hub for us by creating a `Backstage` custom resource.

Run the following command in your highside terminal session:

```bash
cat << EOF | oc apply --filename -
---
apiVersion: v1
kind: Namespace
metadata:
  name: rhdh
spec:
  finalizers:
  - kubernetes

---
apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
  name: developer-hub
  namespace: rhdh
spec:
  application:
    appConfig:
      mountPath: /opt/app-root/src
    extraFiles:
      mountPath: /opt/app-root/src
    replicas: 1
    route:
      enabled: true
  database:
    enableLocalDb: true
EOF
```

Once the pods in the `rhdh` namespace are `Ready` we can retrieve and open the `Route` for our new Developer Hub instance and complete our first time login.

```bash
oc get route --namespace rhdh backstage-developer-hub --output jsonpath='{.spec.host}'
```

<Zoom>
|![workshop](/static/images/compliance/developer-hub.gif)                       |
|:-----------------------------------------------------------------------------:|
| *First login for Red Hat Developer Hub*                                       |
</Zoom>

